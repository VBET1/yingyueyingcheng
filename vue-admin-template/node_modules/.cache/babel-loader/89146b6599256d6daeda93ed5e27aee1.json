{"remainingRequest":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\传出\\xm\\第六天\\vue-admin-template\\src\\views\\system\\sysCategory\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\src\\views\\system\\sysCategory\\list.vue","mtime":1727266823167},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\babel.config.js","mtime":1726969584090},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726969924886},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1726969926736},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726969924886},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1726969927562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOWvvOWFpQppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL2NhdGVnb3J5L2NhdGVnb3J5LmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgcGFnZTogMSwKICAgICAgbGltaXQ6IDUsCiAgICAgIHRvdGE6IDAsCiAgICAgIHNlYXJjaE9iajoge30sCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc3lzQ2F0ZWdvcnk6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMubGlzdExvYWRpbmc9dHJ1ZTsKICAgIHRoaXMuZmV0Y2hQYWdlTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdDogZnVuY3Rpb24gZWRpdChpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAvLyAxLuW8ueahhgogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAvLyAyLui1i+WAvAogICAgICBhcGkuZmluZENhdGVnb3J5QnlJZChpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5zeXNDYXRlZ29yeSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVPclVwZGF0ZTogZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKCkgewogICAgICBpZiAodGhpcy5zeXNDYXRlZ29yeS5pZCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy51cGRhdGVDYXRlZ29yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRkQ2F0ZWdvcnkoKTsKICAgICAgfQogICAgfSwKICAgIGFkZENhdGVnb3J5OiBmdW5jdGlvbiBhZGRDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGFwaS5hZGRDYXRlZ29yeSh0aGlzLnN5c0NhdGVnb3J5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgICAvLyDlhbPpl63lvLnmoYYKICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIC8vIOWIt+aWsOWIl+ihqAogICAgICAgIF90aGlzMi5mZXRjaFBhZ2VMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUNhdGVnb3J5OiBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGFwaS51cGRhdGVDYXRlZ29yeSh0aGlzLnN5c0NhdGVnb3J5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5L+u5pS55oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgICAvLyDlhbPpl63lvLnmoYYKICAgICAgICBfdGhpczMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIC8vIOWIt+aWsOWIl+ihqAogICAgICAgIF90aGlzMy5mZXRjaFBhZ2VMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnN5c0NhdGVnb3J5ID0ge307CiAgICB9LAogICAgcmVtb3ZlRGF0YUJ5SWQ6IGZ1bmN0aW9uIHJlbW92ZURhdGFCeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xmlofku7YsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgYXBpLnJlbW92ZUNhdGVnb3J5QnlJZChpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzNC5mZXRjaFBhZ2VMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0RGF0YTogZnVuY3Rpb24gcmVzZXREYXRhKCkgewogICAgICAvLyAxLua4heepuuaQnOe0ouadoeS7tgogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9OwogICAgICAvLyAyLuWGjeasoeWIt+aWsOWIl+ihqAogICAgICB0aGlzLmZldGNoUGFnZUxpc3QoKTsKICAgIH0sCiAgICBmZXRjaFBhZ2VMaXN0OiBmdW5jdGlvbiBmZXRjaFBhZ2VMaXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIHBhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CiAgICAgIHRoaXMucGFnZSA9IHBhZ2U7CiAgICAgIGFwaS5nZXRDYXRlZ29yeVBhZ2VJbmZvKHRoaXMucGFnZSwgdGhpcy5saW1pdCwgdGhpcy5zZWFyY2hPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1Lmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIF90aGlzNS5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzNS50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","data","list","page","limit","tota","searchObj","listLoading","dialogVisible","sysCategory","created","fetchPageList","methods","edit","id","_this","findCategoryById","then","response","saveOrUpdate","updateCategory","addCategory","_this2","$message","type","message","_this3","add","removeDataById","_this4","$confirm","confirmButtonText","cancelButtonText","removeCategoryById","resetData","_this5","arguments","length","undefined","getCategoryPageInfo","records","total"],"sources":["src/views/system/sysCategory/list.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--查询表单-->\r\n    <div class=\"search-div\">\r\n      <el-form label-width=\"70px\" size=\"small\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"分类名称\">\r\n              <el-input\r\n                v-model=\"searchObj.name\"\r\n                style=\"width: 100%\"\r\n                placeholder=\"分类名称\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"display: flex\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-search\"\r\n            size=\"mini\"\r\n            @click=\"fetchPageList()\"\r\n          >搜索</el-button>\r\n          <el-button\r\n            icon=\"el-icon-refresh\"\r\n            size=\"mini\"\r\n            @click=\"resetData\"\r\n          >重置</el-button>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 工具条 -->\r\n    <div class=\"tools-div\">\r\n      <el-button\r\n        type=\"success\"\r\n        icon=\"el-icon-plus\"\r\n        size=\"mini\"\r\n        :disabled=\"$hasBP('bnt.sysCategory.add') === false\"\r\n        @click=\"add\"\r\n      >添 加</el-button>\r\n    </div>\r\n\r\n    <el-dialog title=\"添加/修改\" :visible.sync=\"dialogVisible\" width=\"40%\">\r\n      <el-form\r\n        ref=\"dataForm\"\r\n        :model=\"sysCategory\"\r\n        label-width=\"150px\"\r\n        size=\"small\"\r\n        style=\"padding-right: 40px\"\r\n      >\r\n        <el-form-item label=\"分类名称\">\r\n          <el-input v-model=\"sysCategory.name\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button\r\n          size=\"small\"\r\n          icon=\"el-icon-refresh-right\"\r\n          @click=\"dialogVisible = false\"\r\n        >取 消</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-check\"\r\n          size=\"small\"\r\n          @click=\"saveOrUpdate()\"\r\n        >确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 表格 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%; margin-top: 10px\"\r\n    >\r\n      <el-table-column label=\"序号\" width=\"180\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"name\" label=\"分类名称\" />\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" />\r\n      <el-table-column prop=\"updateTime\" label=\"修改时间\" width=\"200\" />\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-edit\"\r\n            size=\"mini\"\r\n            title=\"修改\"\r\n            :disabled=\"$hasBP('bnt.sysCategory.update') === false\"\r\n            @click=\"edit(scope.row.id)\"\r\n          />\r\n          <el-button\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            title=\"删除\"\r\n            :disabled=\"$hasBP('bnt.sysCategory.remove') === false\"\r\n            @click=\"removeDataById(scope.row.id)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      style=\"padding: 30px 0; text-align: center\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchPageList\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入\r\nimport api from '@/api/category/category.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      page: 1,\r\n      limit: 5,\r\n      tota: 0,\r\n      searchObj: {},\r\n      listLoading: true,\r\n      dialogVisible: false,\r\n      sysCategory: {}\r\n    }\r\n  },\r\n  created() {\r\n    // this.listLoading=true;\r\n    this.fetchPageList()\r\n  },\r\n  methods: {\r\n    edit(id) {\r\n      // 1.弹框\r\n      this.dialogVisible = true\r\n      // 2.赋值\r\n      api.findCategoryById(id).then((response) => {\r\n        this.sysCategory = response.data\r\n      })\r\n    },\r\n    saveOrUpdate() {\r\n      if (this.sysCategory.id != null) {\r\n        this.updateCategory()\r\n      } else {\r\n        this.addCategory()\r\n      }\r\n    },\r\n    addCategory() {\r\n      api.addCategory(this.sysCategory).then((response) => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '添加成功!'\r\n        })\r\n        // 关闭弹框\r\n        this.dialogVisible = false\r\n        // 刷新列表\r\n        this.fetchPageList()\r\n      })\r\n    },\r\n    updateCategory() {\r\n      api.updateCategory(this.sysCategory).then((response) => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '修改成功!'\r\n        })\r\n        // 关闭弹框\r\n        this.dialogVisible = false\r\n        // 刷新列表\r\n        this.fetchPageList()\r\n      })\r\n    },\r\n    add() {\r\n      this.dialogVisible = true\r\n      this.sysCategory = {}\r\n    },\r\n    removeDataById(id) {\r\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        api.removeCategoryById(id).then((response) => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          })\r\n          this.fetchPageList()\r\n        })\r\n      })\r\n    },\r\n    resetData() {\r\n      // 1.清空搜索条件\r\n      this.searchObj = {}\r\n      // 2.再次刷新列表\r\n      this.fetchPageList()\r\n    },\r\n    fetchPageList(page = 1) {\r\n      this.page = page\r\n      api\r\n        .getCategoryPageInfo(this.page, this.limit, this.searchObj)\r\n        .then((response) => {\r\n          this.listLoading = false\r\n          // console.log(response);\r\n          this.list = response.data.records\r\n          this.total = response.data.total\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA,OAAAA,GAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;MACAC,IAAA;MACAC,KAAA;MACAC,IAAA;MACAC,SAAA;MACAC,WAAA;MACAC,aAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAC,IAAA,WAAAA,KAAAC,EAAA;MAAA,IAAAC,KAAA;MACA;MACA,KAAAP,aAAA;MACA;MACAR,GAAA,CAAAgB,gBAAA,CAAAF,EAAA,EAAAG,IAAA,WAAAC,QAAA;QACAH,KAAA,CAAAN,WAAA,GAAAS,QAAA,CAAAjB,IAAA;MACA;IACA;IACAkB,YAAA,WAAAA,aAAA;MACA,SAAAV,WAAA,CAAAK,EAAA;QACA,KAAAM,cAAA;MACA;QACA,KAAAC,WAAA;MACA;IACA;IACAA,WAAA,WAAAA,YAAA;MAAA,IAAAC,MAAA;MACAtB,GAAA,CAAAqB,WAAA,MAAAZ,WAAA,EAAAQ,IAAA,WAAAC,QAAA;QACAI,MAAA,CAAAC,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA;QACAH,MAAA,CAAAd,aAAA;QACA;QACAc,MAAA,CAAAX,aAAA;MACA;IACA;IACAS,cAAA,WAAAA,eAAA;MAAA,IAAAM,MAAA;MACA1B,GAAA,CAAAoB,cAAA,MAAAX,WAAA,EAAAQ,IAAA,WAAAC,QAAA;QACAQ,MAAA,CAAAH,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA;QACAC,MAAA,CAAAlB,aAAA;QACA;QACAkB,MAAA,CAAAf,aAAA;MACA;IACA;IACAgB,GAAA,WAAAA,IAAA;MACA,KAAAnB,aAAA;MACA,KAAAC,WAAA;IACA;IACAmB,cAAA,WAAAA,eAAAd,EAAA;MAAA,IAAAe,MAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAR,IAAA;MACA,GAAAP,IAAA;QACAjB,GAAA,CAAAiC,kBAAA,CAAAnB,EAAA,EAAAG,IAAA,WAAAC,QAAA;UACAW,MAAA,CAAAN,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;UACAI,MAAA,CAAAlB,aAAA;QACA;MACA;IACA;IACAuB,SAAA,WAAAA,UAAA;MACA;MACA,KAAA5B,SAAA;MACA;MACA,KAAAK,aAAA;IACA;IACAA,aAAA,WAAAA,cAAA;MAAA,IAAAwB,MAAA;MAAA,IAAAhC,IAAA,GAAAiC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MACA,KAAAjC,IAAA,GAAAA,IAAA;MACAH,GAAA,CACAuC,mBAAA,MAAApC,IAAA,OAAAC,KAAA,OAAAE,SAAA,EACAW,IAAA,WAAAC,QAAA;QACAiB,MAAA,CAAA5B,WAAA;QACA;QACA4B,MAAA,CAAAjC,IAAA,GAAAgB,QAAA,CAAAjB,IAAA,CAAAuC,OAAA;QACAL,MAAA,CAAAM,KAAA,GAAAvB,QAAA,CAAAjB,IAAA,CAAAwC,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}