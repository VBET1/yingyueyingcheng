{"remainingRequest":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\传出\\xm\\第六天\\vue-admin-template\\src\\views\\system\\sysLoginLog\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\src\\views\\system\\sysLoginLog\\list.vue","mtime":1727266099205},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\babel.config.js","mtime":1726969584090},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726969924886},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1726969926736},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726969924886},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1726969927562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvbG9naW4vbG9naW5sb2cuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5pWw5o2u5piv5ZCm5q2j5Zyo5Yqg6L29CiAgICAgIGxpc3Q6IFtdLAogICAgICAvLyBiYW5uZXLliJfooagKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaVsOaNruW6k+S4reeahOaAu+iusOW9leaVsAogICAgICBwYWdlOiAxLAogICAgICAvLyDpu5jorqTpobXnoIEKICAgICAgbGltaXQ6IDUsCiAgICAgIC8vIOavj+mhteiusOW9leaVsAogICAgICBzZWFyY2hPYmo6IHt9LAogICAgICAvLyDmn6Xor6LooajljZXlr7nosaEKICAgICAgLy8g5aSE55CG5pe26Ze06IyD5Zu05p2h5Lu255qECiAgICAgIGNyZWF0ZVRpbWVzOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHN5c1VzZXI6IHt9LAogICAgICBzYXZlQnRuRGlzYWJsZWQ6IGZhbHNlLAogICAgICBkaWFsb2dSb2xlVmlzaWJsZTogZmFsc2UsCiAgICAgIGFsbFJvbGVzOiBbXSwKICAgICAgLy8g5omA5pyJ6KeS6Imy5YiX6KGoCiAgICAgIHVzZXJSb2xlSWRzOiBbXSwKICAgICAgLy8g55So5oi355qE6KeS6ImySUTnmoTliJfooagKICAgICAgaXNJbmRldGVybWluYXRlOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5piv5LiN56Gu5a6a55qECiAgICAgIGNoZWNrQWxsOiBmYWxzZSAvLyDmmK/lkKblhajpgIkKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOS/ruaUueeKtuaAgQogICAgc3dpdGNoU3RhdHVzOiBmdW5jdGlvbiBzd2l0Y2hTdGF0dXMocm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOWmguaenCDlj6/nlKggIOiuvue9ruS4uiDkuI3lj6/nlKggIOWmguaenOS4jeWPr+eUqCAg6K6+572u5Li6IOWPr+eUqAogICAgICByb3cuc3RhdHVzID0gcm93LnN0YXR1cyA9PT0gMSA/IDAgOiAxOwogICAgICBhcGkudXBkYXRlU3RhdHVzKHJvdy5pZCwgcm93LnN0YXR1cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBhLue7meWHuuaPkOekugogICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSB8fCAn5pON5L2c5oiQ5YqfJyk7CiAgICAgICAgLy8gYi7lho3mrKHliLfmlrDliJfooagKICAgICAgICBfdGhpcy5mZXRjaERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXREYXRhOiBmdW5jdGlvbiByZXNldERhdGEoKSB7CiAgICAgIC8vIDEu5riF56m65p2h5Lu25pCc57SiCiAgICAgIHRoaXMuc2VhcmNoT2JqID0ge307CiAgICAgIC8vIDIu5riF56m65pel5pyf5p2h5Lu2CiAgICAgIHRoaXMuY3JlYXRlVGltZXMgPSBbXTsKICAgICAgLy8gMy7liLfmlrDmlbDmja7liJfooagKICAgICAgdGhpcy5mZXRjaERhdGEoKTsKICAgIH0sCiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBwYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwogICAgICBpZiAodGhpcy5jcmVhdGVUaW1lcyAmJiB0aGlzLmNyZWF0ZVRpbWVzLmxlbmd0aCA9PT0gMikgewogICAgICAgIHRoaXMuc2VhcmNoT2JqLmNyZWF0ZVRpbWVCZWdpbiA9IHRoaXMuY3JlYXRlVGltZXNbMF07CiAgICAgICAgdGhpcy5zZWFyY2hPYmouY3JlYXRlVGltZUVuZCA9IHRoaXMuY3JlYXRlVGltZXNbMV07CiAgICAgIH0KICAgICAgYXBpLmdldExvZ2luTG9nUGFnZUluZm8odGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnNlYXJjaE9iaikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3QKICAgICAgICBfdGhpczIubGlzdCA9IHJlc3BvbnNlLmRhdGEucmVjb3JkczsKICAgICAgICBfdGhpczIudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIC8vIOaVsOaNruWKoOi9veW5tue7keWumuaIkOWKnwogICAgICAgIF90aGlzMi5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVEYXRhQnlJZDogZnVuY3Rpb24gcmVtb3ZlRGF0YUJ5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIC8vIGFsZXJ0KGlkKTsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6KeS6ImyLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOeCueWHu+ehruWumgogICAgICAgIGFwaS5yZW1vdmVCeUlkKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge30pOwogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgICBfdGhpczMuZmV0Y2hEYXRhKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","data","listLoading","list","total","page","limit","searchObj","createTimes","dialogVisible","sysUser","saveBtnDisabled","dialogRoleVisible","allRoles","userRoleIds","isIndeterminate","checkAll","created","fetchData","methods","switchStatus","row","_this","status","updateStatus","id","then","response","$message","success","message","resetData","_this2","arguments","length","undefined","createTimeBegin","createTimeEnd","getLoginLogPageInfo","records","removeDataById","_this3","$confirm","confirmButtonText","cancelButtonText","type","removeById"],"sources":["src/views/system/sysLoginLog/list.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"search-div\">\r\n      <el-form label-width=\"70px\" size=\"small\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"关 键 字\">\r\n              <el-input\r\n                v-model=\"searchObj.keyword\"\r\n                style=\"width: 95%\"\r\n                placeholder=\"登录用户\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"操作时间\">\r\n              <el-date-picker\r\n                v-model=\"createTimes\"\r\n                type=\"datetimerange\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始时间\"\r\n                end-placeholder=\"结束时间\"\r\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                style=\"margin-right: 10px; width: 100%\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"display: flex\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-search\"\r\n            size=\"mini\"\r\n            @click=\"fetchData()\"\r\n          >搜索</el-button>\r\n          <el-button\r\n            icon=\"el-icon-refresh\"\r\n            size=\"mini\"\r\n            @click=\"resetData\"\r\n          >重置</el-button>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 列表 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%; margin-top: 10px\"\r\n    >\r\n      <el-table-column label=\"序号\" width=\"70\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"username\" label=\"登录账号\" width=\"180\" />\r\n      <el-table-column prop=\"ipaddr\" label=\"登录ip地址\" width=\"110\" />\r\n      <el-table-column prop=\"status\" label=\"登录状态\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.status == 1\">失败</span>\r\n          <span v-if=\"scope.row.status == 0\">成功</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"msg\" label=\"提示信息\" width=\"180\" />\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" />\r\n\r\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            title=\"删除\"\r\n            :disabled=\"$hasBP('bnt.sysLoginLog.remove') === false\"\r\n            @click=\"removeDataById(scope.row.id)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      style=\"padding: 30px 0; text-align: center\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchData\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/login/loginlog.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      listLoading: false, // 数据是否正在加载\r\n      list: [], // banner列表\r\n      total: 0, // 数据库中的总记录数\r\n      page: 1, // 默认页码\r\n      limit: 5, // 每页记录数\r\n      searchObj: {}, // 查询表单对象\r\n      // 处理时间范围条件的\r\n      createTimes: [],\r\n      dialogVisible: false,\r\n      sysUser: {},\r\n      saveBtnDisabled: false,\r\n\r\n      dialogRoleVisible: false,\r\n      allRoles: [], // 所有角色列表\r\n      userRoleIds: [], // 用户的角色ID的列表\r\n      isIndeterminate: false, // 是否是不确定的\r\n      checkAll: false // 是否全选\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  methods: {\r\n    // 修改状态\r\n    switchStatus(row) {\r\n      // 如果 可用  设置为 不可用  如果不可用  设置为 可用\r\n      row.status = row.status === 1 ? 0 : 1\r\n      api.updateStatus(row.id, row.status).then((response) => {\r\n        // a.给出提示\r\n        this.$message.success(response.message || '操作成功')\r\n        // b.再次刷新列表\r\n        this.fetchData()\r\n      })\r\n    },\r\n    resetData() {\r\n      // 1.清空条件搜索\r\n      this.searchObj = {}\r\n      // 2.清空日期条件\r\n      this.createTimes = []\r\n      // 3.刷新数据列表\r\n      this.fetchData()\r\n    },\r\n    fetchData(page = 1) {\r\n      this.page = page\r\n      if (this.createTimes && this.createTimes.length === 2) {\r\n        this.searchObj.createTimeBegin = this.createTimes[0]\r\n        this.searchObj.createTimeEnd = this.createTimes[1]\r\n      }\r\n\r\n      api\r\n        .getLoginLogPageInfo(this.page, this.limit, this.searchObj)\r\n        .then((response) => {\r\n          // this.list = response.data.list\r\n          this.list = response.data.records\r\n          this.total = response.data.total\r\n          // 数据加载并绑定成功\r\n          this.listLoading = false\r\n        })\r\n    },\r\n    removeDataById(id) {\r\n      // alert(id);\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 点击确定\r\n        api.removeById(id).then(response => {\r\n        })\r\n        this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        })\r\n        this.fetchData()\r\n      })\r\n    }\r\n  }}\r\n</script>\r\n<style></style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,OAAAA,GAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,IAAA;MAAA;MACAC,KAAA;MAAA;MACAC,SAAA;MAAA;MACA;MACAC,WAAA;MACAC,aAAA;MACAC,OAAA;MACAC,eAAA;MAEAC,iBAAA;MACAC,QAAA;MAAA;MACAC,WAAA;MAAA;MACAC,eAAA;MAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACA;IACAC,YAAA,WAAAA,aAAAC,GAAA;MAAA,IAAAC,KAAA;MACA;MACAD,GAAA,CAAAE,MAAA,GAAAF,GAAA,CAAAE,MAAA;MACAvB,GAAA,CAAAwB,YAAA,CAAAH,GAAA,CAAAI,EAAA,EAAAJ,GAAA,CAAAE,MAAA,EAAAG,IAAA,WAAAC,QAAA;QACA;QACAL,KAAA,CAAAM,QAAA,CAAAC,OAAA,CAAAF,QAAA,CAAAG,OAAA;QACA;QACAR,KAAA,CAAAJ,SAAA;MACA;IACA;IACAa,SAAA,WAAAA,UAAA;MACA;MACA,KAAAxB,SAAA;MACA;MACA,KAAAC,WAAA;MACA;MACA,KAAAU,SAAA;IACA;IACAA,SAAA,WAAAA,UAAA;MAAA,IAAAc,MAAA;MAAA,IAAA3B,IAAA,GAAA4B,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;MACA,KAAA5B,IAAA,GAAAA,IAAA;MACA,SAAAG,WAAA,SAAAA,WAAA,CAAA0B,MAAA;QACA,KAAA3B,SAAA,CAAA6B,eAAA,QAAA5B,WAAA;QACA,KAAAD,SAAA,CAAA8B,aAAA,QAAA7B,WAAA;MACA;MAEAR,GAAA,CACAsC,mBAAA,MAAAjC,IAAA,OAAAC,KAAA,OAAAC,SAAA,EACAmB,IAAA,WAAAC,QAAA;QACA;QACAK,MAAA,CAAA7B,IAAA,GAAAwB,QAAA,CAAA1B,IAAA,CAAAsC,OAAA;QACAP,MAAA,CAAA5B,KAAA,GAAAuB,QAAA,CAAA1B,IAAA,CAAAG,KAAA;QACA;QACA4B,MAAA,CAAA9B,WAAA;MACA;IACA;IACAsC,cAAA,WAAAA,eAAAf,EAAA;MAAA,IAAAgB,MAAA;MACA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAnB,IAAA;QACA;QACA1B,GAAA,CAAA8C,UAAA,CAAArB,EAAA,EAAAC,IAAA,WAAAC,QAAA,GACA;QACAc,MAAA,CAAAb,QAAA;UACAiB,IAAA;UACAf,OAAA;QACA;QACAW,MAAA,CAAAvB,SAAA;MACA;IACA;EACA;AAAA","ignoreList":[]}]}