{"remainingRequest":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\传出\\xm\\第六天\\vue-admin-template\\src\\views\\system\\sysLoginLog\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\src\\views\\system\\sysLoginLog\\list.vue","mtime":1727266099205},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726969924886},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1726969926736},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1726969924886},{"path":"D:\\传出\\xm\\第六天\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":1726969927562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL2xvZ2luL2xvZ2lubG9nLmpzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwgLy8g5pWw5o2u5piv5ZCm5q2j5Zyo5Yqg6L29DQogICAgICBsaXN0OiBbXSwgLy8gYmFubmVy5YiX6KGoDQogICAgICB0b3RhbDogMCwgLy8g5pWw5o2u5bqT5Lit55qE5oC76K6w5b2V5pWwDQogICAgICBwYWdlOiAxLCAvLyDpu5jorqTpobXnoIENCiAgICAgIGxpbWl0OiA1LCAvLyDmr4/pobXorrDlvZXmlbANCiAgICAgIHNlYXJjaE9iajoge30sIC8vIOafpeivouihqOWNleWvueixoQ0KICAgICAgLy8g5aSE55CG5pe26Ze06IyD5Zu05p2h5Lu255qEDQogICAgICBjcmVhdGVUaW1lczogW10sDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIHN5c1VzZXI6IHt9LA0KICAgICAgc2F2ZUJ0bkRpc2FibGVkOiBmYWxzZSwNCg0KICAgICAgZGlhbG9nUm9sZVZpc2libGU6IGZhbHNlLA0KICAgICAgYWxsUm9sZXM6IFtdLCAvLyDmiYDmnInop5LoibLliJfooagNCiAgICAgIHVzZXJSb2xlSWRzOiBbXSwgLy8g55So5oi355qE6KeS6ImySUTnmoTliJfooagNCiAgICAgIGlzSW5kZXRlcm1pbmF0ZTogZmFsc2UsIC8vIOaYr+WQpuaYr+S4jeehruWumueahA0KICAgICAgY2hlY2tBbGw6IGZhbHNlIC8vIOaYr+WQpuWFqOmAiQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmZldGNoRGF0YSgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDkv67mlLnnirbmgIENCiAgICBzd2l0Y2hTdGF0dXMocm93KSB7DQogICAgICAvLyDlpoLmnpwg5Y+v55SoICDorr7nva7kuLog5LiN5Y+v55SoICDlpoLmnpzkuI3lj6/nlKggIOiuvue9ruS4uiDlj6/nlKgNCiAgICAgIHJvdy5zdGF0dXMgPSByb3cuc3RhdHVzID09PSAxID8gMCA6IDENCiAgICAgIGFwaS51cGRhdGVTdGF0dXMocm93LmlkLCByb3cuc3RhdHVzKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAvLyBhLue7meWHuuaPkOekug0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubWVzc2FnZSB8fCAn5pON5L2c5oiQ5YqfJykNCiAgICAgICAgLy8gYi7lho3mrKHliLfmlrDliJfooagNCiAgICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHJlc2V0RGF0YSgpIHsNCiAgICAgIC8vIDEu5riF56m65p2h5Lu25pCc57SiDQogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9DQogICAgICAvLyAyLua4heepuuaXpeacn+adoeS7tg0KICAgICAgdGhpcy5jcmVhdGVUaW1lcyA9IFtdDQogICAgICAvLyAzLuWIt+aWsOaVsOaNruWIl+ihqA0KICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgIH0sDQogICAgZmV0Y2hEYXRhKHBhZ2UgPSAxKSB7DQogICAgICB0aGlzLnBhZ2UgPSBwYWdlDQogICAgICBpZiAodGhpcy5jcmVhdGVUaW1lcyAmJiB0aGlzLmNyZWF0ZVRpbWVzLmxlbmd0aCA9PT0gMikgew0KICAgICAgICB0aGlzLnNlYXJjaE9iai5jcmVhdGVUaW1lQmVnaW4gPSB0aGlzLmNyZWF0ZVRpbWVzWzBdDQogICAgICAgIHRoaXMuc2VhcmNoT2JqLmNyZWF0ZVRpbWVFbmQgPSB0aGlzLmNyZWF0ZVRpbWVzWzFdDQogICAgICB9DQoNCiAgICAgIGFwaQ0KICAgICAgICAuZ2V0TG9naW5Mb2dQYWdlSW5mbyh0aGlzLnBhZ2UsIHRoaXMubGltaXQsIHRoaXMuc2VhcmNoT2JqKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAvLyB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3QNCiAgICAgICAgICB0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLnJlY29yZHMNCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbA0KICAgICAgICAgIC8vIOaVsOaNruWKoOi9veW5tue7keWumuaIkOWKnw0KICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgcmVtb3ZlRGF0YUJ5SWQoaWQpIHsNCiAgICAgIC8vIGFsZXJ0KGlkKTsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeinkuiJsiwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIC8vIOeCueWHu+ehruWumg0KICAgICAgICBhcGkucmVtb3ZlQnlJZChpZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIH0pDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgICAgfSkNCiAgICB9DQogIH19DQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/system/sysLoginLog","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"search-div\">\r\n      <el-form label-width=\"70px\" size=\"small\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"关 键 字\">\r\n              <el-input\r\n                v-model=\"searchObj.keyword\"\r\n                style=\"width: 95%\"\r\n                placeholder=\"登录用户\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"操作时间\">\r\n              <el-date-picker\r\n                v-model=\"createTimes\"\r\n                type=\"datetimerange\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始时间\"\r\n                end-placeholder=\"结束时间\"\r\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                style=\"margin-right: 10px; width: 100%\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"display: flex\">\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-search\"\r\n            size=\"mini\"\r\n            @click=\"fetchData()\"\r\n          >搜索</el-button>\r\n          <el-button\r\n            icon=\"el-icon-refresh\"\r\n            size=\"mini\"\r\n            @click=\"resetData\"\r\n          >重置</el-button>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 列表 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%; margin-top: 10px\"\r\n    >\r\n      <el-table-column label=\"序号\" width=\"70\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"username\" label=\"登录账号\" width=\"180\" />\r\n      <el-table-column prop=\"ipaddr\" label=\"登录ip地址\" width=\"110\" />\r\n      <el-table-column prop=\"status\" label=\"登录状态\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.status == 1\">失败</span>\r\n          <span v-if=\"scope.row.status == 0\">成功</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"msg\" label=\"提示信息\" width=\"180\" />\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" />\r\n\r\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n            title=\"删除\"\r\n            :disabled=\"$hasBP('bnt.sysLoginLog.remove') === false\"\r\n            @click=\"removeDataById(scope.row.id)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      style=\"padding: 30px 0; text-align: center\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchData\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api/login/loginlog.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      listLoading: false, // 数据是否正在加载\r\n      list: [], // banner列表\r\n      total: 0, // 数据库中的总记录数\r\n      page: 1, // 默认页码\r\n      limit: 5, // 每页记录数\r\n      searchObj: {}, // 查询表单对象\r\n      // 处理时间范围条件的\r\n      createTimes: [],\r\n      dialogVisible: false,\r\n      sysUser: {},\r\n      saveBtnDisabled: false,\r\n\r\n      dialogRoleVisible: false,\r\n      allRoles: [], // 所有角色列表\r\n      userRoleIds: [], // 用户的角色ID的列表\r\n      isIndeterminate: false, // 是否是不确定的\r\n      checkAll: false // 是否全选\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  methods: {\r\n    // 修改状态\r\n    switchStatus(row) {\r\n      // 如果 可用  设置为 不可用  如果不可用  设置为 可用\r\n      row.status = row.status === 1 ? 0 : 1\r\n      api.updateStatus(row.id, row.status).then((response) => {\r\n        // a.给出提示\r\n        this.$message.success(response.message || '操作成功')\r\n        // b.再次刷新列表\r\n        this.fetchData()\r\n      })\r\n    },\r\n    resetData() {\r\n      // 1.清空条件搜索\r\n      this.searchObj = {}\r\n      // 2.清空日期条件\r\n      this.createTimes = []\r\n      // 3.刷新数据列表\r\n      this.fetchData()\r\n    },\r\n    fetchData(page = 1) {\r\n      this.page = page\r\n      if (this.createTimes && this.createTimes.length === 2) {\r\n        this.searchObj.createTimeBegin = this.createTimes[0]\r\n        this.searchObj.createTimeEnd = this.createTimes[1]\r\n      }\r\n\r\n      api\r\n        .getLoginLogPageInfo(this.page, this.limit, this.searchObj)\r\n        .then((response) => {\r\n          // this.list = response.data.list\r\n          this.list = response.data.records\r\n          this.total = response.data.total\r\n          // 数据加载并绑定成功\r\n          this.listLoading = false\r\n        })\r\n    },\r\n    removeDataById(id) {\r\n      // alert(id);\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 点击确定\r\n        api.removeById(id).then(response => {\r\n        })\r\n        this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        })\r\n        this.fetchData()\r\n      })\r\n    }\r\n  }}\r\n</script>\r\n<style></style>\r\n"]}]}